<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="utf-8" />
<title>디시갤 차단기</title>
<link rel="preconnect" href="https://fonts.googleapis.com" />
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet" />
<style>
  :root{
    --neon:#4f7cff;
    --dark:#0d1117;
    --light:#ffffff;
  }
  *{box-sizing:border-box;margin:0;padding:0}
  body{
    width:280px;padding:20px;
    background:var(--dark);color:var(--light);
    font-family:"Inter",sans-serif;
    display:flex;flex-direction:column;gap:22px;
  }
  h1{font-size:18px;letter-spacing:.5px;text-shadow:0 0 6px var(--neon)}
  /* 스위치 */
  .switch{position:relative;width:46px;height:24px}
  .switch input{display:none}
  .slider{position:absolute;inset:0;background:#444;border-radius:34px;transition:.3s;cursor:pointer}
  .slider:before{content:"";position:absolute;left:3px;top:3px;width:18px;height:18px;background:#fff;border-radius:50%;transition:.3s}
  input:checked + .slider{background:var(--neon);box-shadow:0 0 8px var(--neon)}
  input:checked + .slider:before{transform:translateX(22px)}
  /* 버튼 & 필드 */
  button{
    padding:8px 12px;font-size:14px;border:1px solid var(--neon);
    border-radius:8px;background:transparent;color:var(--light);cursor:pointer;transition:.25s
  }
  button:hover{background:var(--neon);color:var(--dark);box-shadow:0 0 10px var(--neon)}
  input[type="number"],select{
    padding:6px 4px;font-size:14px;width:72px;border:1px solid #444;
    border-radius:6px;background:#222;color:var(--light)
  }
  /* 슬라이더: 두 슬라이더 모두 동일 폭/느낌으로 */
  input[type="range"]{
    display:block;
    width:100%;
    accent-color:var(--neon);
  }
  label.row{display:flex;align-items:center;gap:10px}
  /* 라벨은 가변 폭, 입력/스위치는 고정 폭으로 우측 정렬 */
  label.row > span{flex:1 1 auto;min-width:110px}
  label.row > .switch,
  label.row > select,
  label.row > input[type="number"]{flex:0 0 auto}

  /* UID 입력 */
  .row-input{
    display:flex;gap:8px;align-items:center;
  }
  .row-input input[type="text"]{
    flex:1 1 auto;
    min-width:0;
    padding:8px 10px;border:1px solid #444;border-radius:8px;background:#222;color:var(--light)
  }
  .row-input button{
    flex:0 0 auto;
    white-space:nowrap;
    min-width:56px;
    padding:8px 12px;
  }
  .muted{font-size:12px;opacity:.8}
  .hint{font-size:12px;opacity:.9;color:#c9d1d9;margin-top:6px}
  ul#uidList{list-style:none;display:flex;flex-direction:column;gap:6px;max-height:120px;overflow:auto}
  ul#uidList li{display:flex;justify-content:space-between;align-items:center;border:1px solid #333;border-radius:8px;padding:6px 8px;background:#151a22}
  ul#uidList code{opacity:.9}
  .btn-danger{border-color:#ff6b6b}
  .btn-danger:hover{background:#ff6b6b;color:#000}
  .divider{height:1px;background:#1f2630;border:0;margin-top:-6px}
</style>
</head>
<body>
  <h1>디시갤 차단기</h1>

  <!-- 갤러리 차단 ON/OFF -->
  <label class="row">
    <span style="min-width:110px;">갤러리 차단</span>
    <label class="switch">
      <input type="checkbox" id="toggle">
      <span class="slider"></span>
    </label>
  </label>

  <!-- 차단 방식 -->
  <label class="row">
    <span style="min-width:110px;">차단 방식</span>
    <select id="blockMode">
      <option value="smart">스마트</option>
      <option value="redirect">초보</option>
      <option value="block">하드</option>
    </select>
  </label>
  <p class="hint" id="blockModeHint" style="font-size:11px;opacity:0.85"></p>

  <!-- 댓글 숨기기 -->
  <label class="row">
    <span style="min-width:110px;">일반 댓글 숨기기</span>
    <label class="switch">
      <input type="checkbox" id="hideComment">
      <span class="slider"></span>
    </label>
  </label>

  <!-- 이미지 댓글 숨기기 -->
  <label class="row">
    <span style="min-width:110px;">이미지 댓글 숨기기</span>
    <label class="switch">
      <input type="checkbox" id="hideImgComment">
      <span class="slider"></span>
    </label>
  </label>

  <!-- 디시콘 숨기기 -->
  <label class="row">
    <span style="min-width:110px;">디시콘 숨기기</span>
    <label class="switch">
      <input type="checkbox" id="hideDccon">
      <span class="slider"></span>
    </label>
  </label>

  <hr class="divider">

  <!-- 자동 새로고침 -->
  <label class="row">
    <span style="min-width:110px;">자동 새로고침</span>
    <label class="switch">
      <input type="checkbox" id="autoRefreshEnabled">
      <span class="slider"></span>
    </label>
  </label>

  <!-- 새로고침 간격 -->
  <label class="row">
    <span style="min-width:110px;">새로고침 간격 (초)</span>
    <input type="number" id="autoRefreshIntervalNum" min="10" max="600" step="10">
  </label>
  <p class="hint">최소 10초, 최대 600초(10분)까지 설정 가능합니다.</p>
  <input type="range" id="autoRefreshIntervalRange" min="10" max="600" step="10">

  <hr class="divider">

  <!-- 지연 시간 (초보 모드일 때만 표시) -->
  <div id="delaySection" style="display:none;">
    <label class="row">
      <span style="min-width:110px;">리다이렉트 지연 시간 (초)</span>
      <input type="number" id="delayNum" min="0" max="10" step="0.5">
    </label>
    <p class="hint">초보 모드에서 카운트다운 후 리다이렉트되는 시간입니다.</p>
    <input type="range" id="delayRange" min="0" max="10" step="0.5">
  </div>

  <hr class="divider">

  <!-- 페이지 숨김  -->
  <label class="row">
    <span style="min-width:110px;">메인 페이지 불필요한 영역 숨김</span>
    <label class="switch">
      <input type="checkbox" id="toggleHideMain">
      <span class="slider"></span>
    </label>
  </label>
  <p class="hint">숨길 영역은 <b>설정 메뉴</b> → “메인 페이지 영역 숨기기”에서 관리하세요.</p>

  <label class="row">
    <span style="min-width:110px;">갤러리 페이지 불필요한 영역 숨김</span>
    <label class="switch">
      <input type="checkbox" id="toggleHideGall">
      <span class="slider"></span>
    </label>
  </label>
  <p class="hint">숨길 영역은 <b>설정 메뉴</b> → “갤러리 페이지 영역 숨기기”에서 관리하세요.</p>

  <label class="row">
    <span style="min-width:110px;">검색 페이지 불필요한 영역 숨김</span>
    <label class="switch">
      <input type="checkbox" id="toggleHideSearch">
      <span class="slider"></span>
    </label>
  </label>
  <p class="hint">숨길 영역은 <b>설정 메뉴</b> → “검색 페이지 영역 숨기기”에서 관리하세요.</p>

  <hr class="divider">

  <!-- 사용자 차단 -->
  <label class="row">
    <span style="min-width:110px;">사용자 차단</span>
    <label class="switch">
      <input type="checkbox" id="userBlockEnabled">
      <span class="slider"></span>
    </label>
  </label>

  <!-- 닉네임 옆 회원 ID 표시 -->
  <label class="row">
    <span style="min-width:110px;">닉네임 옆 회원 ID 표시</span>
    <label class="switch">
      <input type="checkbox" id="toggleUidBadge">
      <span class="slider"></span>
    </label>
  </label>

  <!-- 차단할 유저 아이디/아이피 -->
  <label class="row">
    <span style="min-width:110px;">차단할 유저 아이디와 아이피</span>
  </label>
  <div class="row-input">
    <input id="uidInput" type="text" placeholder="예: userid, 39.7">
    <button id="addUidBtn">추가</button>
  </div>
  <ul id="uidList"></ul>
  <div class="muted">* UID는 작성자 요소의 <code>data-uid</code> 값 또는 갤로그 주소의 사용자 ID입니다.</div>
  <div class="muted">* 비회원은 IP 앞부분(예: <code>39.7</code>)을 등록하면 일괄 차단됩니다.</div>

  <!-- 옵션 페이지 -->
  <button id="openOptions">설정 메뉴 열기</button>

  <script src="popup.js"></script>
</body>
</html>
